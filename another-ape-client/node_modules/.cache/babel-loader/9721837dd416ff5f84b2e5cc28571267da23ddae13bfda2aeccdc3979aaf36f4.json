{"ast":null,"code":"/**\n * What is necessary to create an event stream in node?\n *  - http response stream\n *  - parser\n *  - event stream model\n */\n\nvar EventMessageChunkerStream = require('../event-stream/event-message-chunker-stream').EventMessageChunkerStream;\nvar EventUnmarshallerStream = require('../event-stream/event-message-unmarshaller-stream').EventUnmarshallerStream;\nfunction createEventStream(stream, parser, model) {\n  var eventStream = new EventUnmarshallerStream({\n    parser: parser,\n    eventStreamModel: model\n  });\n  var eventMessageChunker = new EventMessageChunkerStream();\n  stream.pipe(eventMessageChunker).pipe(eventStream);\n  stream.on('error', function (err) {\n    eventMessageChunker.emit('error', err);\n  });\n  eventMessageChunker.on('error', function (err) {\n    eventStream.emit('error', err);\n  });\n  return eventStream;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n  createEventStream: createEventStream\n};","map":{"version":3,"names":["EventMessageChunkerStream","require","EventUnmarshallerStream","createEventStream","stream","parser","model","eventStream","eventStreamModel","eventMessageChunker","pipe","on","err","emit","module","exports"],"sources":["/home/ryanosull/clarity/clarity-camp/projects/nft-vids/another-ape-client/node_modules/aws-sdk/lib/event-stream/streaming-create-event-stream.js"],"sourcesContent":["/**\n * What is necessary to create an event stream in node?\n *  - http response stream\n *  - parser\n *  - event stream model\n */\n\nvar EventMessageChunkerStream = require('../event-stream/event-message-chunker-stream').EventMessageChunkerStream;\nvar EventUnmarshallerStream = require('../event-stream/event-message-unmarshaller-stream').EventUnmarshallerStream;\n\nfunction createEventStream(stream, parser, model) {\n    var eventStream = new EventUnmarshallerStream({\n        parser: parser,\n        eventStreamModel: model\n    });\n\n    var eventMessageChunker = new EventMessageChunkerStream();\n\n    stream.pipe(\n        eventMessageChunker\n    ).pipe(eventStream);\n\n    stream.on('error', function(err) {\n        eventMessageChunker.emit('error', err);\n    });\n\n    eventMessageChunker.on('error', function(err) {\n        eventStream.emit('error', err);\n    });\n\n    return eventStream;\n}\n\n/**\n * @api private\n */\nmodule.exports = {\n    createEventStream: createEventStream\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,yBAAyB,GAAGC,OAAO,CAAC,8CAA8C,CAAC,CAACD,yBAAyB;AACjH,IAAIE,uBAAuB,GAAGD,OAAO,CAAC,mDAAmD,CAAC,CAACC,uBAAuB;AAElH,SAASC,iBAAiBA,CAACC,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAE;EAC9C,IAAIC,WAAW,GAAG,IAAIL,uBAAuB,CAAC;IAC1CG,MAAM,EAAEA,MAAM;IACdG,gBAAgB,EAAEF;EACtB,CAAC,CAAC;EAEF,IAAIG,mBAAmB,GAAG,IAAIT,yBAAyB,CAAC,CAAC;EAEzDI,MAAM,CAACM,IAAI,CACPD,mBACJ,CAAC,CAACC,IAAI,CAACH,WAAW,CAAC;EAEnBH,MAAM,CAACO,EAAE,CAAC,OAAO,EAAE,UAASC,GAAG,EAAE;IAC7BH,mBAAmB,CAACI,IAAI,CAAC,OAAO,EAAED,GAAG,CAAC;EAC1C,CAAC,CAAC;EAEFH,mBAAmB,CAACE,EAAE,CAAC,OAAO,EAAE,UAASC,GAAG,EAAE;IAC1CL,WAAW,CAACM,IAAI,CAAC,OAAO,EAAED,GAAG,CAAC;EAClC,CAAC,CAAC;EAEF,OAAOL,WAAW;AACtB;;AAEA;AACA;AACA;AACAO,MAAM,CAACC,OAAO,GAAG;EACbZ,iBAAiB,EAAEA;AACvB,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}