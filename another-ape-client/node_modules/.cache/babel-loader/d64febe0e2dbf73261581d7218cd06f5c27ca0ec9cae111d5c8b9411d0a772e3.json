{"ast":null,"code":"const initS3 = require('../utils/init-s3');\nconst getBucketList = require('../utils/get-bucket-list');\n// const getBucketHash = require('../utils/get-bucket-hash');\n\nconst listBuckets = async ({\n  apiKey,\n  apiSecret\n}) => {\n  try {\n    const s3 = initS3(apiKey, apiSecret);\n    const buckets = await getBucketList(s3);\n    const promises = buckets.map(async (bucket, index) => {\n      // const hash = await getBucketHash(bucket);\n\n      return {\n        name: bucket\n        // hash,\n      };\n    });\n\n    return Promise.all(promises);\n  } catch (error) {\n    throw error;\n  }\n};\nmodule.exports = listBuckets;","map":{"version":3,"names":["initS3","require","getBucketList","listBuckets","apiKey","apiSecret","s3","buckets","promises","map","bucket","index","name","Promise","all","error","module","exports"],"sources":["/home/ryanosull/clarity/clarity-camp/projects/nft-vids/another-ape-client/node_modules/@fleekhq/fleek-storage-js/methods/listBuckets.js"],"sourcesContent":["const initS3 = require('../utils/init-s3');\nconst getBucketList = require('../utils/get-bucket-list');\n// const getBucketHash = require('../utils/get-bucket-hash');\n\nconst listBuckets = async ({\n  apiKey,\n  apiSecret,\n}) => {\n  try {\n    const s3 = initS3(\n      apiKey,\n      apiSecret,\n    );\n\n    const buckets = await getBucketList(s3);\n\n    const promises = buckets.map( async(bucket, index) => {\n      // const hash = await getBucketHash(bucket);\n\n      return ({\n        name: bucket,\n        // hash,\n      })\n    });\n\n    return Promise.all(promises);\n\n  } catch(error) {\n    throw error;\n  }\n};\n\nmodule.exports = listBuckets;\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AAC1C,MAAMC,aAAa,GAAGD,OAAO,CAAC,0BAA0B,CAAC;AACzD;;AAEA,MAAME,WAAW,GAAG,MAAAA,CAAO;EACzBC,MAAM;EACNC;AACF,CAAC,KAAK;EACJ,IAAI;IACF,MAAMC,EAAE,GAAGN,MAAM,CACfI,MAAM,EACNC,SACF,CAAC;IAED,MAAME,OAAO,GAAG,MAAML,aAAa,CAACI,EAAE,CAAC;IAEvC,MAAME,QAAQ,GAAGD,OAAO,CAACE,GAAG,CAAE,OAAMC,MAAM,EAAEC,KAAK,KAAK;MACpD;;MAEA,OAAQ;QACNC,IAAI,EAAEF;QACN;MACF,CAAC;IACH,CAAC,CAAC;;IAEF,OAAOG,OAAO,CAACC,GAAG,CAACN,QAAQ,CAAC;EAE9B,CAAC,CAAC,OAAMO,KAAK,EAAE;IACb,MAAMA,KAAK;EACb;AACF,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGd,WAAW"},"metadata":{},"sourceType":"script","externalDependencies":[]}