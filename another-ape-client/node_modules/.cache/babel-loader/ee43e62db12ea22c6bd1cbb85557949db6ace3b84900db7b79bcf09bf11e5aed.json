{"ast":null,"code":"const initS3 = require('../utils/init-s3');\nconst getBucket = require('../utils/get-bucket');\nconst deleteObject = require('../utils/delete-object');\nconst deleteFile = async ({\n  apiKey,\n  apiSecret,\n  key,\n  bucket\n}) => {\n  try {\n    const s3 = initS3(apiKey, apiSecret);\n    if (!key) {\n      throw 'No file key was specified';\n    }\n    let bucketName = bucket;\n    if (!bucketName) {\n      bucketName = await getBucket(s3);\n    }\n    const params = {\n      Bucket: bucketName,\n      Key: key\n    };\n    const result = await deleteObject(s3, params);\n    const returnData = {\n      bucket: result.Bucket,\n      key: result.Key\n    };\n    return returnData;\n  } catch (error) {\n    throw error;\n  }\n};\nmodule.exports = deleteFile;","map":{"version":3,"names":["initS3","require","getBucket","deleteObject","deleteFile","apiKey","apiSecret","key","bucket","s3","bucketName","params","Bucket","Key","result","returnData","error","module","exports"],"sources":["/home/ryanosull/clarity/clarity-camp/projects/nft-vids/another-ape-client/node_modules/@fleekhq/fleek-storage-js/methods/deleteFile.js"],"sourcesContent":["const initS3 = require('../utils/init-s3');\nconst getBucket = require('../utils/get-bucket');\nconst deleteObject = require('../utils/delete-object');\n\nconst deleteFile = async ({\n  apiKey,\n  apiSecret,\n  key,\n  bucket,\n}) => {\n  try {\n    const s3 = initS3(\n      apiKey,\n      apiSecret,\n    );\n\n    if (!key) {\n      throw 'No file key was specified'\n    }\n\n    let bucketName = bucket;\n    \n    if (!bucketName) {\n      bucketName = await getBucket(s3);\n    }\n\n    const params = {\n      Bucket: bucketName,\n      Key: key,\n    };\n\n    const result = await deleteObject(s3, params);\n\n    const returnData = {\n      bucket: result.Bucket,\n      key: result.Key,\n    };\n\n    return returnData;\n  } catch(error) {\n    throw error;\n  }\n};\n\nmodule.exports = deleteFile;\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,kBAAkB,CAAC;AAC1C,MAAMC,SAAS,GAAGD,OAAO,CAAC,qBAAqB,CAAC;AAChD,MAAME,YAAY,GAAGF,OAAO,CAAC,wBAAwB,CAAC;AAEtD,MAAMG,UAAU,GAAG,MAAAA,CAAO;EACxBC,MAAM;EACNC,SAAS;EACTC,GAAG;EACHC;AACF,CAAC,KAAK;EACJ,IAAI;IACF,MAAMC,EAAE,GAAGT,MAAM,CACfK,MAAM,EACNC,SACF,CAAC;IAED,IAAI,CAACC,GAAG,EAAE;MACR,MAAM,2BAA2B;IACnC;IAEA,IAAIG,UAAU,GAAGF,MAAM;IAEvB,IAAI,CAACE,UAAU,EAAE;MACfA,UAAU,GAAG,MAAMR,SAAS,CAACO,EAAE,CAAC;IAClC;IAEA,MAAME,MAAM,GAAG;MACbC,MAAM,EAAEF,UAAU;MAClBG,GAAG,EAAEN;IACP,CAAC;IAED,MAAMO,MAAM,GAAG,MAAMX,YAAY,CAACM,EAAE,EAAEE,MAAM,CAAC;IAE7C,MAAMI,UAAU,GAAG;MACjBP,MAAM,EAAEM,MAAM,CAACF,MAAM;MACrBL,GAAG,EAAEO,MAAM,CAACD;IACd,CAAC;IAED,OAAOE,UAAU;EACnB,CAAC,CAAC,OAAMC,KAAK,EAAE;IACb,MAAMA,KAAK;EACb;AACF,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGd,UAAU"},"metadata":{},"sourceType":"script","externalDependencies":[]}